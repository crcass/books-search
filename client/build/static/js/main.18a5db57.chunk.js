(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,n,t){e.exports=t.p+"static/media/book_1.89e0f096.png"},43:function(e,n,t){e.exports=t(79)},79:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),i=t.n(o),c=t(11),l=t(9),u=t(2),s=t(1);function f(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  font-family: 'Roboto', sans-serif;\n  justify-content: center;\n  margin-top: 48px;\n"]);return f=function(){return e},e}var d=s.default.div(f());function m(){var e=Object(u.a)(["\n  align-items: center;\n  background-color: #fff;\n  border-bottom: 1px solid black;\n  color: #666;\n  display: flex;\n  height: 48px;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n\n  a {\n    color: inherit;\n    margin: 0 2em;\n    text-decoration: inherit;\n\n    &:hover {\n      color: #000;\n    }\n  }\n"]);return m=function(){return e},e}var h=s.default.nav(m()),v=function(){return r.a.createElement(h,null,r.a.createElement(c.b,{to:"/"},"BRAND"),r.a.createElement(c.b,{to:"/"},"Search"),r.a.createElement(c.b,{to:"/saved"},"Saved"))};function p(){var e=Object(u.a)(["\n  align-items: center;\n  background: #e0e0e0;\n  background-position: center;\n  background-size: cover;\n  color: #fff;\n  display: flex;\n  flex-direction: column;\n  height: 20em;\n  justify-content: center;\n  width: 100%;\n\n  h1 {\n    font-size: 1.75em;\n    @media (min-width: 768px) {\n      font-size: 2.75em;\n    }\n  }\n\n  /* p {\n    max-width: 80%;\n  } */\n"]);return p=function(){return e},e}var b=s.default.div(p()),g=function(){return r.a.createElement(b,null,r.a.createElement("h1",null,"Google Books Search"),r.a.createElement("p",null,"Search for, and save books of interest"))},k=t(8),x=t.n(k),w=t(10),E=t(14),y=t(15),j=t(17),O=t(16),B=t(18),S=function(e){var n=e.handleChange,t=e.handleSubmit;return r.a.createElement(a.Fragment,null,r.a.createElement("form",{onSubmit:t},r.a.createElement("label",{htmlFor:"searchBar"},"Search by Title or Author"),r.a.createElement("input",{onChange:n,name:"term",type:"text"}),r.a.createElement("button",null,"Submit")))};function C(){var e=Object(u.a)(["\n  background-color: #aaa;\n  border: 1px solid #eee;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 1em;\n  margin: 1em auto;\n  overflow: scroll;\n"]);return C=function(){return e},e}var I=s.default.div(C());function L(){var e=Object(u.a)(["\n  background-color: #fff;\n  border: 1px solid #eee;\n  border-radius: 4px;\n  width: 960px;\n  margin: 1em 0;\n"]);return L=function(){return e},e}var F=s.default.section(L());function N(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return N=function(){return e},e}var W=s.default.div(N());function z(){var e=Object(u.a)(["\n  padding: 0 1em;\n"]);return z=function(){return e},e}var A=s.default.div(z()),D=function(e){var n=e.authors,t=e.title;return r.a.createElement(A,null,r.a.createElement("h2",null,t),r.a.createElement("h3",null,"Written by ",n))};function R(){var e=Object(u.a)(["\n  display: flex;\n  max-width: 33%;\n"]);return R=function(){return e},e}var $=s.default.div(R());function _(){var e=Object(u.a)(["\n  align-items: center;\n  background-color: #6002ee;\n  border-radius: 4px;\n  color: #fff;\n  display: flex;\n  height: 40px;\n  justify-content: center;\n  margin: 1em;\n  padding: 0 15px;\n  text-decoration: none;\n  width: 70px;\n"]);return _=function(){return e},e}var q=s.default.a(_());function J(){var e=Object(u.a)(["\n  align-items: center;\n  background-color: ",";\n  border: none;\n  border-radius: 4px;\n  color: #fff;\n  cursor: pointer;\n  display: flex;\n  height: 40px;\n  justify-content: center;\n  margin: 1em;\n  padding: 0 15px;\n  text-decoration: none;\n  width: 100px;\n"]);return J=function(){return e},e}var V=s.default.button(J(),function(e){return e.save?"#021aee":"#ee0290"}),G=function(e){var n=e.id,t=e.link,a=e.handleBook,o=e.save;return r.a.createElement($,null,r.a.createElement(q,{href:t,target:"_blank",rel:"noopener noreferrer"},"Visit"),r.a.createElement(V,{save:o,"data-index":n,onClick:a},o?"Save":"Delete"))};function M(){var e=Object(u.a)(["\n  padding: 1em;\n\n  img {\n    float: left;\n    margin: 1em 2em 1em 0;\n    max-width: 128px;\n  }\n"]);return M=function(){return e},e}var P=s.default.div(M()),T=function(e){var n=e.description,t=e.image,a=e.title;return r.a.createElement(P,null,r.a.createElement("img",{src:t,alt:a}),r.a.createElement("p",null,n))},U=function(e){var n=e.authors,t=e.description,a=e.id,o=e.image,i=e.link,c=e.title,l=e.handleBook,u=e.save;return r.a.createElement(F,null,r.a.createElement(W,null,r.a.createElement(D,{authors:n,title:c}),r.a.createElement(G,{id:a,link:i,handleBook:l,save:u})),r.a.createElement(T,{description:t,image:o,title:c}))},H=function(e){var n=e.books,t=e.handleBook,a=e.save;return r.a.createElement(I,null,function(e,n,t){return e.map(function(e,a){return r.a.createElement(U,{key:a,authors:e.authors,description:e.description,id:a,image:e.image,link:e.link,title:e.title,handleBook:n,save:t})})}(n,t,a))},K=t(19),Q=t.n(K);function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(w.a)(x.a.mark(function e(n){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n?"https://www.googleapis.com/books/v1/volumes?q=".concat(n):"/api/books",e.prev=1,e.next=4,Q.a.get(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}var Z=t(40),ee=t.n(Z),ne=function(e){return e.join(", ").replace(/, ([^,]*)$/," & $1")};var te=function(e){function n(){var e;return Object(E.a)(this,n),(e=Object(j.a)(this,Object(O.a)(n).call(this))).handleChange=function(n){return e.setState({term:n.target.value.toLowerCase()})},e.handleSubmit=function(n){n.preventDefault();var t=document.querySelector("form"),a=e.state.term;if(""===a)return alert("Please enter a book title");e.searchBooks(a),e.setState({term:""}),t.reset()},e.saveBook=function(n){var t,a=n.target.dataset.index,r=e.state.books;t=r[a],Q.a.post("/api/books",t)},e.state={term:"",books:[]},e}return Object(B.a)(n,e),Object(y.a)(n,[{key:"searchBooks",value:function(){var e=Object(w.a)(x.a.mark(function e(n){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(n);case 3:t=e.sent,this.setState({books:(a=t.data.items,a.map(function(e){return{title:e.volumeInfo.title,authors:e.volumeInfo.authors?ne(e.volumeInfo.authors):"",description:e.volumeInfo.description,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:ee.a,link:e.volumeInfo.canonicalVolumeLink}}))}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}var a},e,this,[[0,7]])}));return function(n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(S,{handleChange:this.handleChange,handleSubmit:this.handleSubmit}),r.a.createElement(H,{books:this.state.books,handleBook:this.saveBook,save:!0}))}}]),n}(a.Component),ae=function(e){function n(){var e,t;Object(E.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(j.a)(this,(e=Object(O.a)(n)).call.apply(e,[this].concat(r)))).state={books:[]},t.removeBook=function(e){var n,a=e.target.dataset.index,r=t.state.books;n=r[a]._id,Q.a.delete("/api/books/".concat(n)),r.splice(a,1),t.setState({books:r})},t}return Object(B.a)(n,e),Object(y.a)(n,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"loadBooks",value:function(){var e=Object(w.a)(x.a.mark(function e(){var n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:n=e.sent,this.setState({books:n.data});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(H,{books:this.state.books,handleBook:this.removeBook})}}]),n}(a.Component),re=function(){return r.a.createElement("h1",null,"NotFound")},oe=function(){return r.a.createElement(c.a,null,r.a.createElement(d,null,r.a.createElement(v,null),r.a.createElement(g,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:te}),r.a.createElement(l.a,{path:"/saved",component:ae}),r.a.createElement(l.a,{component:re}))))},ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ce(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var le=t(41);i.a.render(r.a.createElement(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.Normalize,null),r.a.createElement(oe,null))},null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ie?function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ce(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):ce(e)})}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.18a5db57.chunk.js.map